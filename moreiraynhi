-- üåü Moreira Script GUI (by PhatLee)
local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")

local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- X√≥a GUI c≈© n·∫øu c√≥
local oldGui = playerGui:FindFirstChild("MoreiraGUI")
if oldGui then oldGui:Destroy() end

-- GUI ch√≠nh
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "MoreiraGUI"
screenGui.ResetOnSpawn = false
screenGui.IgnoreGuiInset = true
screenGui.Parent = playerGui

-- Frame ch√≠nh
local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 320, 0, 180)
frame.Position = UDim2.new(0.5, -160, 0.5, -90)
frame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
frame.Active = true
frame.Draggable = true
frame.Parent = screenGui
Instance.new("UICorner", frame).CornerRadius = UDim.new(0, 12)

-- üîπ Title
local title = Instance.new("TextLabel")
title.Text = "Moreira Script"
title.Font = Enum.Font.FredokaOne
title.TextSize = 22
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.BackgroundTransparency = 1
title.Size = UDim2.new(1, -40, 0, 30)
title.Position = UDim2.new(0, 10, 0, 6)
title.TextXAlignment = Enum.TextXAlignment.Left
title.Parent = frame

-- ‚ùå N√∫t X (ƒë√≥ng GUI ch√≠nh)
local closeMainBtn = Instance.new("TextButton")
closeMainBtn.Text = "‚ùå"
closeMainBtn.Font = Enum.Font.FredokaOne
closeMainBtn.TextSize = 20
closeMainBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
closeMainBtn.BackgroundColor3 = Color3.fromRGB(60, 0, 0)
closeMainBtn.Size = UDim2.new(0, 28, 0, 28)
closeMainBtn.Position = UDim2.new(1, -34, 0, 6)
closeMainBtn.Parent = frame
Instance.new("UICorner", closeMainBtn)

closeMainBtn.MouseButton1Click:Connect(function()
	screenGui:Destroy()
end)

-- üîπ Status
local status = Instance.new("TextLabel")
status.Text = "Status: üî¥ Wait for request"
status.Font = Enum.Font.FredokaOne
status.TextSize = 16
status.TextColor3 = Color3.fromRGB(255, 255, 180)
status.BackgroundTransparency = 1
status.Size = UDim2.new(1, -20, 0, 20)
status.Position = UDim2.new(0, 10, 0, 50)
status.TextXAlignment = Enum.TextXAlignment.Left
status.Parent = frame

-- üîπ N√∫t Send
local sendBtn = Instance.new("TextButton")
sendBtn.Text = "Send"
sendBtn.Font = Enum.Font.FredokaOne
sendBtn.TextSize = 18
sendBtn.TextColor3 = Color3.fromRGB(40, 40, 40)
sendBtn.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
sendBtn.Size = UDim2.new(0, 280, 0, 45)
sendBtn.Position = UDim2.new(0.5, -140, 0, 90)
sendBtn.Parent = frame
Instance.new("UICorner", sendBtn)

-- üîπ Footer
local footer = Instance.new("TextLabel")
footer.Text = "Ynhi Script| Enjoy it"
footer.Font = Enum.Font.FredokaOne
footer.TextSize = 14
footer.TextColor3 = Color3.fromRGB(180, 180, 180)
footer.BackgroundTransparency = 1
footer.Size = UDim2.new(1, 0, 0, 20)
footer.Position = UDim2.new(0, 0, 1, -25)
footer.Parent = frame

-- ================== GUI g·ª≠i ==================
local sendingGui = Instance.new("Frame")
sendingGui.Size = UDim2.new(0, 360, 0, 140)
sendingGui.Position = UDim2.new(0.5, -180, 0.5, -70)
sendingGui.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
sendingGui.Visible = false
sendingGui.Active = true
sendingGui.Draggable = true
sendingGui.ZIndex = 100
sendingGui.Parent = screenGui
Instance.new("UICorner", sendingGui).CornerRadius = UDim.new(0, 12)

-- ‚ùå N√∫t X (ƒë√≥ng GUI g·ª≠i)
local closeSendBtn = Instance.new("TextButton")
closeSendBtn.Text = "‚ùå"
closeSendBtn.Font = Enum.Font.FredokaOne
closeSendBtn.TextSize = 20
closeSendBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
closeSendBtn.BackgroundColor3 = Color3.fromRGB(60, 0, 0)
closeSendBtn.Size = UDim2.new(0, 30, 0, 30)
closeSendBtn.Position = UDim2.new(1, -38, 0, 5)
closeSendBtn.ZIndex = 102
closeSendBtn.Parent = sendingGui
Instance.new("UICorner", closeSendBtn)

closeSendBtn.MouseButton1Click:Connect(function()
	sendingGui:Destroy()
end)

-- Label ch√≠nh
local sendingLabel = Instance.new("TextLabel")
sendingLabel.Size = UDim2.new(1, -20, 1, -40)
sendingLabel.Position = UDim2.new(0, 10, 0, 25)
sendingLabel.BackgroundTransparency = 1
sendingLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
sendingLabel.Font = Enum.Font.FredokaOne
sendingLabel.TextSize = 18
sendingLabel.TextWrapped = true
sendingLabel.Text = "Sent to 0 servers, please wait about 50s"
sendingLabel.ZIndex = 101
sendingLabel.Parent = sendingGui

-- ================== Logic g·ª≠i ==================
local busy = false
sendBtn.MouseButton1Click:Connect(function()
	if busy then return end
	busy = true

	status.Text = "Status: üü° Pending"
	local activeDots = true

	-- Hi·ªáu ·ª©ng ch·∫•m Pending...
	task.spawn(function()
		local dots = ""
		while activeDots do
			dots = dots == "..." and "" or dots .. "."
			status.Text = "Status: üü° Pending" .. dots
			task.wait(0.4)
		end
	end)

	-- Hi·ªán GUI g·ª≠i
	sendingGui.BackgroundTransparency = 1
	sendingGui.Visible = true
	TweenService:Create(sendingGui, TweenInfo.new(0.3), {BackgroundTransparency = 0}):Play()

	local targetServers = math.random(1500, 2500)
	local totalTicks = 500  -- 50s, m·ªói tick = 0.1s
	local current = 0

	for i = 1, totalTicks do
		current = math.floor(targetServers * (i / totalTicks))
		sendingLabel.Text = string.format("Sending to %d servers, please wait about 50s", current)
		task.wait(0.1)
	end

	-- K·∫øt th√∫c
	activeDots = false
	status.Text = "Status: üü¢ Sent, wait for someone to join"
	sendingLabel.Text = string.format("Sent to %d servers successfully!", targetServers)

	-- T·ª± ƒë·ªông t·∫Øt GUI g·ª≠i sau 3s
	task.wait(3)
	if sendingGui and sendingGui.Parent then
		TweenService:Create(sendingGui, TweenInfo.new(0.4), {BackgroundTransparency = 1}):Play()
		task.wait(0.5)
		if sendingGui then sendingGui:Destroy() end
	end

	busy = false
end)
